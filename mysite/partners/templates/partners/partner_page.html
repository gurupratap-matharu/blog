{% extends "layouts/base.html" %}

{% load i18n static wagtailimages_tags navigation_tags %}

{% block content %}
  <div class="container pt-7 col-12 col-xl-9" id="content">
    <div class="row">
      <div class="col-6 col-md-4 mx-auto">{% image page.logo original class="img-fluid" loading="lazy" %}</div>
    </div>
    <section class="py-3 py-md-5">
      <div class="row">
        <div class="col border border-radius-xl mx-3 py-3 shadow-xl">
          <form action="/trips/" method="get" autocomplete="on">
            <div class="row gx-md-3 mb-1 mb-md-3">
              <div class="col-8 col-sm-3 col-lg-2">
                <select class="form-select bg-transparent" name="trip_type" id="trip_type" aria-label="Trip type" required>
                  <option value="round_trip" {% if not request.session.q.trip_type == "one_way" %}selected{% endif %}>
                    {% translate "Round trip" %}
                  </option>
                  <option value="one_way" {% if request.session.q.trip_type == "one_way" %}selected{% endif %}>
                    {% translate "One way" %}
                  </option>
                </select>
              </div>
              <div class="col-4 col-sm-2 col-lg-1">
                <select class="form-select bg-transparent"
                        name="num_of_passengers"
                        id="num_of_passengers"
                        aria-label="Num of passengers"
                        required>
                  {% for i in '12345'|make_list %}
                    <option value="{{ i }}" {% if request.session.q.num_of_passengers == i %}selected{% endif %}>{{ i }}</option>
                  {% endfor %}
                </select>
              </div>
            </div>
            <div class="row gx-1 gx-md-3">
              <div class="col-12 col-md-3">
                <div class="form-group mb-1 mb-md-3">
                  <label for="origin" class="form-label">{% translate "Origin" %}</label>
                  <input class="form-control"
                         type="search"
                         name="origin"
                         autocorrect="off"
                         autocapitalize="off"
                         autocomplete="off"
                         spellcheck="false"
                         id="origin"
                         value="{{ request.session.q.origin }}"
                         placeholder='{% translate "Leaving from" %}'
                         required />
                </div>
              </div>
              <div class="col-12 col-md-3">
                <div class="form-group mb-1 mb-md-3">
                  <label for="destination" class="form-label">{% translate "Destination" %}</label>
                  <input class="form-control"
                         type="search"
                         name="destination"
                         autocorrect="off"
                         autocapitalize="off"
                         autocomplete="off"
                         spellcheck="false"
                         id="destination"
                         value="{{ request.session.q.destination }}"
                         placeholder='{% translate "Going to" %}'
                         required />
                </div>
              </div>
              <div class="col-12 col-md-3">
                <div class="form-group mb-1 mb-md-3">
                  <label for="departure" class="form-label">{% translate "Departure" %}</label>
                  <input class="form-control form-control-lg departure-date bg-white"
                         type="text"
                         name="departure"
                         id="departure"
                         autocorrect="off"
                         autocapitalize="off"
                         autocomplete="off"
                         spellcheck="false"
                         maxlength="2048"
                         value="{{ request.session.q.departure }}"
                         required />
                </div>
              </div>
              <div class="col-12 col-md-3">
                <div class="form-group mb-3">
                  <label for="return" class="form-label">{% translate "Return (Optional)" %}</label>
                  <input class="form-control form-control-lg return-date bg-white"
                         type="text"
                         name="return"
                         id="return"
                         autocorrect="off"
                         autocapitalize="off"
                         autocomplete="off"
                         spellcheck="false"
                         maxlength="2048"
                         value="{{ request.session.q.return }}" />
                </div>
              </div>
              <input class="form-control form-control-lg bg-white"
                     type="hidden"
                     name="company"
                     autocorrect="off"
                     autocapitalize="off"
                     autocomplete="off"
                     spellcheck="false"
                     maxlength="2048"
                     value="{{ company.slug }}" />
            </div>
            <div class="d-flex justify-content-center mb-n5">
              <button class="btn bg-gradient-primary btn-round" type="submit">
                <svg class="bi me-2" width="16" height="16" fill="currentColor" aria-hidden="true">
                  <use xlink:href="{% static 'assets/icons/icons.svg' %}#search" />
                </svg>
                {% translate "Explore" %}
              </button>
            </div>
          </form>
        </div>
      </div>
    </section>
    <section class="py-3">
      {% breadcrumbs %}
    </section>
    <section class="py-3">
      <h1>
        <span class="display-4">Comprá tus pasajes en</span>{{ page.title }}
      </h1>
    </section>
    <section class="py-3 py-md-5">
      <h2 class="fs-5 pb-3">{% translate "About " %}{{ page.title }}</h2>
      <div class="row">
        <div class="col-md-7 rounded-3">{{ page.intro }}</div>
        <div class="col-md-5 rounded-3 my-auto">
          {% image page.hero_image original class="img-fluid rounded-3" loading="lazy" %}
        </div>
      </div>
    </section>
    {% if page.faq %}
      <section class="py-3 py-md-5">
        {{ page.faq }}
      </section>
    {% endif %}
    {% if page.body %}
      <section class="py-3 py-md-5">
        {{ page.body }}
      </section>
    {% endif %}
    <section class="py-3 py-md-5">
      <h2 class="fs-5 pb-3">Empresas destacadas</h2>
      <div class="row gy-3">
        <div class="col-4 col-sm-3 col-lg-2">
          <img class="img-fluid" loading="lazy" src="{% static 'assets/img/company-logos/logo-andesmar.png' %}" alt="Logo of Andesmar" />
        </div>
        <div class="col-4 col-sm-3 col-lg-2">
          <img class="img-fluid"
               loading="lazy"
               src="{% static 'assets/img/company-logos/logo-costera-criolla.png' %}"
               alt="Logo of Costera Criolla" />
        </div>
        <div class="col-4 col-sm-3 col-lg-2">
          <img class="img-fluid"
               loading="lazy"
               src="{% static 'assets/img/company-logos/logo-chevallier.png' %}"
               alt="Logo of Chevallier" />
        </div>
        <div class="col-4 col-sm-3 col-lg-2">
          <img class="img-fluid"
               loading="lazy"
               src="{% static 'assets/img/company-logos/logo-empresa-argentina.png' %}"
               alt="Logo of Empresa Argentina" />
        </div>
        <div class="col-4 col-sm-3 col-lg-2">
          <img class="img-fluid"
               loading="lazy"
               src="{% static 'assets/img/company-logos/logo-flecha-bus.png' %}"
               alt="Logo of Flecha Bus" />
        </div>
        <div class="col-4 col-sm-3 col-lg-2">
          <img class="img-fluid" loading="lazy" src="{% static 'assets/img/company-logos/logo-plusmar.png' %}" alt="Logo of Plusmar" />
        </div>
      </section>
      <section class="py-3 py-md-5">
        {{ page.links }}
      </section>
      <section class="py-3 py-md-5">
        <h2 class="fs-5 pb-3">¿Por que Ventanita?</h2>
        <div class="d-flex">
          <p>
            Nuestra misión es brindarles a todos la oportunidad de viajar y mostrarles el mundo.
            Creemos que todos merecen viajar y que el mundo es un lugar mejor cuando experimentamos, compartimos y construimos una vida a través de nuestras historias.
          </p>
        </div>
      </section>
    </div>
  {% endblock content %}

  {% block modal %}
    {% comment "Offcanvas trigger buttons" %}
  <button class="btn btn-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDeparture" aria-controls="offcanvasDeparture">Departure</button>
  <button class="btn btn-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasReturn" aria-controls="offcanvasReturn">Return</button>
    {% endcomment %}
    {# Offcanvas Departure #}
    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasDeparture" aria-labelledby="offcanvasDepartureLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasDepartureLabel">{% translate "Departure" %}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <input class="form-control form-control-lg offcanvas-departure-date bg-white"
               type="text"
               name="offcanvas-departure"
               id="offcanvas-departure"
               autocorrect="off"
               autocapitalize="off"
               autocomplete="off"
               spellcheck="false"
               maxlength="2048"
               value="{{ request.session.q.departure }}"
               required />
      </div>
    </div>
    {# Offcanvas Return #}
    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasReturn" aria-labelledby="offcanvasReturnLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasReturnLabel">{% translate "Return" %}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <input class="form-control form-control-lg offcanvas-return-date bg-white"
               type="text"
               name="offcanvas-return"
               id="offcanvas-return"
               autocorrect="off"
               autocapitalize="off"
               autocomplete="off"
               spellcheck="false"
               maxlength="2048"
               value="{{ request.session.q.return }}"
               required />
      </div>
    </div>
  {% endblock modal %}

  {% block extra_js %}
    <script type="text/javascript" src="{% static 'assets/js/autocomplete/autocomplete.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets/js/autocomplete/config.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets/js/dates/flatpickr.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets/js/dates/es.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets/js/dates/picker.js' %}"></script>
  {% endblock extra_js %}
