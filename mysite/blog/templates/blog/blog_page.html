{% extends "layouts/base.html" %}

{% load static i18n wagtailcore_tags wagtailimages_tags navigation_tags %}

{% block extra_css %}
  <style>
       #reading-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 3px;
            z-index: 9999;
            background: linear-gradient(310deg, #7928ca, #ff0080);
            transition: width 0.2s ease;
       }
  </style>
{% endblock extra_css %}

{% block content %}
  <div id="reading-progress"></div>
  <section class="container mb-5">
    <div class="row">
      <div class="col-md-6 mx-auto">
        <div class="d-none d-md-block">{% breadcrumbs %}</div>
        <h1 class="display-4">{{ page.title }}</h1>
        {% for author in page.authors %}
          <div class="author align-items-center">
            {% image author.image width-200 class="avatar avatar-xl rounded-circle" %}
            <div class="name ps-2">
              <p class="h6 mb-0">Por: {{ author.first_name }} {{ author.last_name }}</p>
              <div class="stats">
                <small class="text-sm text-muted">Actualizado: {{ page.date }}</small>
                <svg class="mx-1 d-none d-md-inline"
                     width="8"
                     height="8"
                     viewBox="0 0 64 64"
                     xmlns="http://www.w3.org/2000/svg"
                     aria-hidden="true">
                  <circle cx="32" cy="32" r="30" fill="#054ada" />
                </svg>
                <small class="text-sm text-muted">{{ page.reading_time }} min de lectura</small>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </section>
  <section class="container">
    <div class="row">
      <div class="col-lg-6 mx-auto">
        {% if page.subtitle %}<p class="lead mb-3">{{ page.subtitle }}</p>{% endif %}
        {% if page.intro %}<p class="lead mb-3">{{ page.intro }}</p>{% endif %}
        <article>{{ page.body }}</article>
      </div>
    </div>
  </section>
{% endblock content %}

{% block extra_js %}
  {# djlint:off #}
  <script type="application/ld+json">{{ page.ld_entity }}</script>
  {# djlint:on #}
  <script src="{% static 'assets/js/blog_page.js' %}"></script>
{% endblock extra_js %}
